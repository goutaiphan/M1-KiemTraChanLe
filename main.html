<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ứng dụng kiểm tra số chẵn</title>
    <link href="style.css" rel="stylesheet">
</head>

<body>
<div id="titleArea">Ứng dụng<br>kiểm tra chẵn lẻ</div>

<div id="group">
    <input id="inputArea">
    <button id="button">Kiểm tra</button>
</div>

<div id="resultArea"></div>
</body>
</html>

<script>
    let inputArea = document.getElementById('inputArea');
    let resultArea = document.getElementById('resultArea');
    let button = document.getElementById('button');

    inputArea.oninput = function () {
        inputArea.value = inputArea.value.replace(/[^+\-(0-9)]/g, '');
        resultArea.innerText = '';
    }

    button.onclick = test;
    window.onkeydown = function (event) {
        if (event.key === 'Enter') {
            test();
        }
    }

    function test() {
        let formatValue = format(inputArea.value);
        inputArea.value = formatValue;
        if (formatValue % 2 === 0) {
            resultArea.innerText = 'Đây là số chẵn.'
        } else {
            resultArea.innerText = 'Đây là số lẻ.'
        }
    }

    function format(inputValue) {
        let reMinus = inputValue.match(/(-)\1+/g);
        if (reMinus !== null) {
            for (let i = 0; i < reMinus.length; i++) {
                if (reMinus[i].length % 2 === 0) {
                    inputValue = inputValue.replace(reMinus[i], '+');
                } else {
                    inputValue = inputValue.replace(reMinus[i], '-');
                }
            }
        }

        let rePlus = inputValue.match(/(\+)\1+/g);
        if (rePlus !== null) {
            for (let i = 0; i < rePlus.length; i++) {
                inputValue = inputValue.replace(rePlus[i], '+');
            }
        }
        return eval(inputValue);
    }
</script>